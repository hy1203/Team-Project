<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Architects+Daughter&family=Noto+Sans+KR:wght@100;300;400;500;700;900&family=Sigmar&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="./index.css">
    <link rel="stylesheet" href="./menu.css">

    <link
            href="https://fonts.googleapis.com/css2?family=Architects+Daughter&family=Noto+Sans+KR:wght@100;300;400;500;700;900&family=Sigmar&display=swap"
            rel="stylesheet">
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
            integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N"
            crossorigin="anonymous">
            <link href="cssfile.css" media="screen and(min-width: 512px) and (max-width: 1024px)" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <title>IceCream</title>
  </head>
  <body style="background-color: rgb(252, 227, 227);">

    <header>

      <nav class="navbar navbar-expand-lg bg-light">
        <div class="container-fluid">
          <img class="logo2" src="./image/logo.png">
          <a class="navbar-brand" href="http://127.0.0.1:5501/index.html">Pstachio</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mb-2 mb-lg-0">
              <li class="nav-item">

                <a class="nav-link active" aria-current="page" href="http://127.0.0.1:5501/menu1.html">Menu</a>

              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">알레르기</a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="http://127.0.0.1:5501/taste_1.html" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  꿀조합
                </a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="#">인공지능 조합 추천</a></li>
                  <li><a class="dropdown-item" href="http://127.0.0.1:5501/taste_1.html">기분파 조합</a></li>
                </ul>
              </li>
              <li class="nav-item">
                  <a class="nav-link" href="#">이벤트</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">장바구니</a>
              </li>
            </ul>

            <img class="logo" src="./image/logo6.png" href="index.html">
          
            <a href="login.html" class="login"><button type="button" class="btn ms-2"><i class="bi bi-person-fill"></i>LOGIN</button></a>
            </div>
              <form class="d-flex" role="search">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success" type="submit">Search</button>
              </form>
            
          
        </div>
      </nav>
    
    </header>
    <style>
        .canvas{
            width: 1300px;
            height: 700px;
            margin-top:4%;
            margin-left: 12%;
            background-color: aqua;
        }
    </style>
<body>
    <div class="canvas">player()</div>


    <script>
       var imagePosition = 0;
var RSP = {
    '바위': '0',
    '가위': '-142px',
    '보': '-284px'
};
// 가위, 바위, 보가 한번에 있는 그림을 짤라서 각각 가위, 바위, 보만 보여지게 한다.


// Object.entries() --> 주어진 객체의 키/값을 각각의 2차원 배열로 바꿔준다.
// Object.entries()를 이용해서 컴퓨터가 받아들이는 좌표값을 가위, 바위, 보로 바꾼다.
// find: 배열에서 안에 있는 것을 찾아주는 메서드
function comSelect(imagePosition) {
    return Object.entries(RSP).find(function (v) {
        return v[1] === imagePosition;
        // 
    })[0];
}
// index값에서 find이용해서 가위, 바위, 보 중에 찾고자하는거 찾는 함수 !
// 컴퓨터가 셀렉한 값을 문자로 추출하는 함수

// console.log(Object.entries(RSP)); 
// var 찾기=Object.entries(RSP).find(function(v){
//     return v[0]=='가위';
// });
// console.log(찾기);


var interval = setInterval(function () {
    if (imagePosition === RSP.바위) {
        imagePosition = RSP.가위;
        // 바위-0, 가위--142, 보--284
    } else if (imagePosition === RSP.가위) {
        imagePosition = RSP.보;
    } else {
        imagePosition = RSP.바위;
    }
    document.querySelector('#computer').style.background =
        'url(https://en.pimg.jp/023/182/267/1/23182267.jpg) ' + imagePosition + ' 0';
}, 100);
// querySelector: html의 엘리먼트를 가져와 html태그를 컨트롤 할 수 있게 한다.
// 1000 --> 약 1초


document.querySelectorAll('.btn').forEach(function (btn) {
    btn.addEventListener('click', function () {
        // addEventListener: 
        clearInterval(interval);
        // 인터벌 중지하는 함수
        setTimeout(function () {
            interval = setInterval(function () {
                if (imagePosition === RSP.바위) {
                    imagePosition = RSP.가위;
                    // 바위-0, 가위--142, 보--284
                } else if (imagePosition === RSP.가위) {
                    imagePosition = RSP.보;
                } else {
                    imagePosition = RSP.바위;
                }
                document.querySelector('#computer').style.background =
                    'url(https://en.pimg.jp/023/182/267/1/23182267.jpg) ' + imagePosition + ' 0';
            }, 100);
        }, 1000);
        // 인터벌 다시 시작하는 함수
        
        var myselect = this.textContent;
        console.log(myselect, comSelect(imagePosition));
        if (myselect === "가위") {
            if (comSelect(imagePosition) === "가위") {
                alert("비겼습니다.");
            } else if (comSelect(imagePosition) === "바위") {
                alert("졌습니다. ㅠㅠ")
            } else {
                alert("이겼습니다!")
            }
        } else if (myselect === "바위") {
            if (comSelect(imagePosition) === "바위") {
                alert("비겼습니다.");
            } else if (comSelect(imagePosition) === "보") {
                alert("졌습니다. ㅠㅠ")
            } else {
                alert("이겼습니다!")
            }
        } else if (myselect === "보") {
            if (comSelect(imagePosition) === "보") {
                alert("비겼습니다.");
            } else if (comSelect(imagePosition) === "가위") {
                alert("졌습니다. ㅠㅠ")
            } else {
                alert("이겼습니다!")
            }
        }
    });
});

    </script>
</body>
</html>